<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">Maze Runner - Escape the Maze</title>

    <!-- SEO & Meta Tags -->
    <meta name="description" content="Maze Runner - Solve random mazes, unlock achievements, and compete globally!">
    <meta name="keywords" content="maze game, puzzle, escape, fun game">
    <meta name="theme-color" content="#0f0f23">

    <!-- Open Graph -->
    <meta property="og:title" content="Maze Runner - Escape the Maze">
    <meta property="og:description" content="Solve random mazes and compete globally!">
    <meta property="og:image" content="./icon-512.svg">
    <meta property="og:url" content="https://dopabrain.com/maze-runner/">
    <meta property="og:type" content="game">

    <!-- Schema.org VideoGame -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "VideoGame",
        "name": "Maze Runner",
        "description": "Solve random mazes with multiple difficulty levels and game modes",
        "url": "https://dopabrain.com/maze-runner/",
        "image": "./icon-512.svg",
        "author": {
            "@type": "Organization",
            "name": "DopaBrain"
        },
        "genre": "Puzzle",
        "gameLocation": "Web Browser",
        "applicationCategory": "Game"
    }
    </script>

    <!-- GA4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J8GSWM40TV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-J8GSWM40TV');
    </script>

    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    <link rel="icon" type="image/svg+xml" href="./icon-192.svg">
    <link rel="apple-touch-icon" href="./icon-192.svg">

    <!-- Styles -->
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <h1 class="logo" data-i18n="header.title">Maze Runner</h1>
            </div>
            <div class="header-right">
                <div class="language-selector">
                    <button id="lang-toggle" class="lang-toggle" title="Language">ğŸŒ</button>
                    <div id="lang-menu" class="lang-menu">
                        <button class="lang-option" data-lang="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</button>
                        <button class="lang-option" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
                        <button class="lang-option" data-lang="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</button>
                        <button class="lang-option" data-lang="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
                        <button class="lang-option" data-lang="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
                        <button class="lang-option" data-lang="pt">ğŸ‡§ğŸ‡· PortuguÃªs</button>
                        <button class="lang-option" data-lang="id">ğŸ‡®ğŸ‡© Indonesia</button>
                        <button class="lang-option" data-lang="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</button>
                        <button class="lang-option" data-lang="de">ğŸ‡©ğŸ‡ª Deutsch</button>
                        <button class="lang-option" data-lang="fr">ğŸ‡«ğŸ‡· FranÃ§ais</button>
                        <button class="lang-option" data-lang="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</button>
                        <button class="lang-option" data-lang="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                    </div>
                </div>
                <button id="sound-toggle" class="sound-toggle" title="Sound" data-i18n-title="control.sound">ğŸ”Š</button>
            </div>
        </div>

        <!-- AdSense Banner Top -->
        <div class="ad-banner-top">
            <ins class="adsbygoogle" style="display:inline-block;width:100%;height:60px" data-ad-client="ca-pub-3600813755953882" data-ad-slot="7654321"></ins>
        </div>

        <!-- Main Game Area -->
        <div class="game-area">
            <!-- Sidebar Stats -->
            <div class="sidebar">
                <div class="stat-panel">
                    <div class="stat" data-i18n="stats.stage">
                        <span class="label">Stage</span>
                        <span class="value" id="stage-display">1</span>
                    </div>
                    <div class="stat" data-i18n="stats.time">
                        <span class="label">Time</span>
                        <span class="value" id="time-display">60</span>
                    </div>
                    <div class="stat" data-i18n="stats.score">
                        <span class="label">Score</span>
                        <span class="value" id="score-display">0</span>
                    </div>
                </div>

                <div class="control-panel">
                    <button id="hint-btn" class="btn btn-secondary" data-i18n="control.hint">Hint</button>
                    <button id="minimap-toggle" class="btn btn-secondary" data-i18n="control.minimap">Minimap</button>
                </div>

                <div class="info-panel">
                    <div class="items-info">
                        <div data-i18n="items.title">Items</div>
                        <div id="items-collected" class="items-list">
                            <span>ğŸ”‘ <span id="key-count">0</span></span>
                            <span>â­ <span id="bonus-count">0</span></span>
                        </div>
                    </div>
                </div>

                <div class="best-score">
                    <div data-i18n="stats.best">Best Score</div>
                    <div class="best-value" id="best-score">0</div>
                </div>
            </div>

            <!-- Canvas Area -->
            <div class="canvas-wrapper">
                <canvas id="gameCanvas"></canvas>
                <div id="minimap-container" class="minimap-container hidden">
                    <canvas id="minimapCanvas"></canvas>
                </div>
            </div>
        </div>

        <!-- Controls Info -->
        <div class="controls-info">
            <div class="info-group">
                <span data-i18n="controls.move">Move: WASD / Arrows / Swipe</span>
            </div>
            <div class="info-group">
                <span data-i18n="controls.hint">Press H for Hint</span>
            </div>
        </div>

        <!-- AdSense Banner Bottom -->
        <div class="ad-banner-bottom">
            <ins class="adsbygoogle" style="display:inline-block;width:100%;height:60px" data-ad-client="ca-pub-3600813755953882" data-ad-slot="7654322"></ins>
        </div>
    </div>

    <!-- Modals -->
    <div id="start-modal" class="modal">
        <div class="modal-content">
            <h2 data-i18n="modal.welcome">Welcome to Maze Runner</h2>
            <p data-i18n="modal.description">Navigate through random mazes and collect items!</p>

            <div class="mode-selector">
                <label class="mode-option">
                    <input type="radio" name="gameMode" value="normal" checked>
                    <span data-i18n="modes.normal">Normal</span>
                </label>
                <label class="mode-option">
                    <input type="radio" name="gameMode" value="fog">
                    <span data-i18n="modes.fog">Fog of War</span>
                </label>
                <label class="mode-option">
                    <input type="radio" name="gameMode" value="timer">
                    <span data-i18n="modes.timer">Time Attack</span>
                </label>
            </div>

            <button id="start-btn" class="btn btn-primary" data-i18n="modal.start">Start Game</button>
        </div>
    </div>

    <div id="game-over-modal" class="modal hidden">
        <div class="modal-content">
            <h2 data-i18n="modal.gameOver">Level Complete!</h2>
            <div class="result-stats">
                <div class="result-stat">
                    <span data-i18n="stats.stage">Stage</span>
                    <span id="result-stage">1</span>
                </div>
                <div class="result-stat">
                    <span data-i18n="stats.score">Score</span>
                    <span id="result-score">0</span>
                </div>
                <div class="result-stat">
                    <span data-i18n="stats.time">Time Used</span>
                    <span id="result-time">0s</span>
                </div>
            </div>
            <div class="button-group">
                <button id="next-btn" class="btn btn-primary" data-i18n="modal.next">Next Level</button>
                <button id="restart-btn" class="btn btn-secondary" data-i18n="modal.restart">Restart</button>
            </div>
        </div>
    </div>

    <div id="game-failed-modal" class="modal hidden">
        <div class="modal-content">
            <h2 data-i18n="modal.timeOver">Time's Up!</h2>
            <p data-i18n="modal.tryAgain">Better luck next time!</p>
            <button id="retry-btn" class="btn btn-primary" data-i18n="modal.retry">Try Again</button>
        </div>
    </div>

    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>

    <!-- AdSense Script -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3600813755953882" crossorigin="anonymous"></script>

    <!-- Game Scripts -->
    <script src="js/error-handler.js"></script>
    <script src="./js/i18n.js"></script>
    <script src="./js/app.js"></script>
</body>
</html>
